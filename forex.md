<!---------------------------------------------------------------------------Concept-->
## Concept

<!---------------------------------------Forex-->
#### Forex

<table class="tbl1"><tbody>
<tr>
<td align="center">FX</td><td align="center">Foreign Exchange</td>
<td align="center">4/000/000/000/000</td>
<td align="center">Trillion</td>
</tr>
<tr>
<td align="center">NYSE</td>
<td align="center">New York Stock Exchange</td>
<td align="center">74/000/000/000</td>
<td align="center">Billion</td>
</tr>
</tbody></table>

<table class="tbl1"><tbody>
<tr  id="header">
<td align="center">Thousand</td>
<td align="center">Million</td>
<td align="center">Billion</td>
<td align="center">Trillion</td>
</tr>
<tr>
<td>1/000</td>
<td>1/000/000</td>
<td>1/000/000/000</td>
<td>1/000/000/000/000</td>
</tr>
</tbody></table>

<!---------------------------------------Account type-->
#### Account type

<table class="tbl1"><tbody>
<tr>
<td align="center" >CDF</td>
<td align="center">ترید ها را بصورت معاملات واقعی در بازار جهانی انجام میدهد و مشمول مالیات می شود</td>
</tr>
<tr>
<td align="center">Spread Betting</td>
<td align="center">هیچ معامله ای انجام نمیدهد و اسپرد را ثابت در نظر می گیرد <br> سودش بر اساس نسب باخت تریدرهااست</td>
</tr>
</tbody></table>

<!---------------------------------------Trading unit-->
#### <span class="red">Trading unit</span>

<table><tbody>
<tr>
    <td align="center" bgcolor="D1ECCF">Lot</td>
    <td align="center" bgcolor="D1ECCF">Mini</td>
    <td align="center" bgcolor="D1ECCF">Micro</td>
    <td align="center" bgcolor="D1ECCF">Nano</td>
</tr>
<tr>
    <td align="center">100.000 $</td>
    <td align="center">10.000 $</td>
    <td align="center">1000 $</td>
    <td align="center">100 $</td>
</tr>
<tr>
    <td align="center">1</td>
    <td align="center">0.1</td>
    <td align="center">0.01</td>
    <td align="center">0.001</td>
</tr>
</tbody></table>



<!---------------------------------------Time Frame-->
#### <span class="red">Time Frame</span>

<table class="tbl1"><tbody>
<tr>
    <td align="center" bgcolor="D1ECCF">M1</td>
    <td align="center" bgcolor="D1ECCF">W1</td>
    <td align="center" bgcolor="D1ECCF">D1</td>
    <td align="center" bgcolor="D1ECCF">H4</td>
    <td align="center" bgcolor="D1ECCF">H3</td>
    <td align="center" bgcolor="D1ECCF">H1</td>
    <td align="center" bgcolor="D1ECCF">m30</td>
    <td align="center" bgcolor="D1ECCF">m15</td>
    <td align="center" bgcolor="D1ECCF">m5</td>
    <td align="center" bgcolor="D1ECCF">m1</td>
    <td align="center" bgcolor="D1ECCF">tick</td>
</tr>
<tr>
    <td align="center">ماهانه</td>
    <td align="center">هفتگی</td>
    <td align="center">روزانه</td>
    <td align="center">چهار ساعته</td>
    <td align="center">سه ساعته</td>
    <td align="center">یک ساعته</td>
    <td align="center">سی دقیقه</td>
    <td align="center">پانزده دقیقه</td>
    <td align="center">پنج دقیقه</td>
    <td align="center">یک دقیقه</td>
    <td align="center">هر لحظه</td>
</tr>
</tbody></table>


<!---------------------------------------Currency-->
#### <span class="red">Currency</span>

<table class="tbl1"><tbody>
<tr>
    <td align="center" bgcolor="D1ECCF">New zealand</td>
    <td align="center" bgcolor="D1ECCF">Australia</td>
    <td align="center" bgcolor="D1ECCF">Japan</td>
    <td align="center" bgcolor="D1ECCF">China</td>
    <td align="center" bgcolor="D1ECCF">Switzerland</td>
    <td align="center" bgcolor="D1ECCF">Europe</td>
    <td align="center" bgcolor="D1ECCF">England</td>
    <td align="center" bgcolor="D1ECCF">Usa</td>
</tr>
<tr>
    <td align="center">NZD</td>
    <td align="center">AUD</td>
    <td align="center">JPY</td>
    <td align="center">Yuan</td>
    <td align="center">CHF</td>    
    <td align="center">EUR</td>
    <td align="center">GBP</td>
    <td align="center">USD</td>
</tr>
<tr>
    <td align="center">Dollar</td>
    <td align="center">Dollar</td>
    <td align="center">Yen</td>
    <td align="center">Yuan</td>
    <td align="center">Franc</td>    
    <td align="center">Euro</td>
    <td align="center">Pound</td>
    <td align="center">Dollar</td>
</tr>
<tr>
    <td align="center">+13</td>
    <td align="center">+11</td>
    <td align="center">+9</td>
    <td align="center">+8</td>
    <td align="center">+1</td>
    <td align="center">+1</td>
    <td align="center">0</td>
    <td align="center">-5</td>
</tr>
</tbody></table>

<!---------------------------------------Knowledge-->
#### <span class="red">Knowledge</span>

<table class="tbl1"><tbody>
<tr>
<td align="center" id="header">عرض پایه</td>
<td align="center" id="header">عرض پشتیبان</td>
<td align="center" id="header">جفت عرض</td>
</tr>
<tr>
<td align="center">EUR</td>
<td align="center">USD</td>
<td align="center">EURUSD</td>
</tr>
</tbody></table>

<table class="tbl1"><tbody>
<tr>
<td align="center" rowspan="6">EUR</td>
<td align="center" rowspan="6">USD</td>
<td align="center" rowspan="6">EURUSD</td>
<td align="center">1.4</td>
<td align="center">اگه 1 یورو بدی 1.4 دلار می گیری</td>
</tr>
<tr>
<td align="center">Up</td>
<td align="center">افزایش قیمت یورو نسبت به دلار<br>کاهش قیمت دلار نسبت به یورو</td>
</tr>
<tr>
<td align="center">Down</td>
<td align="center">کاهش قیمت یورو نسبت به دلار<br>افزایش قیمت دلار نسبت به یورو</td>
</tr>
<tr>
<td align="center">Buy</td>
<td align="center">Convert USD To EUR</td>
</tr>
<tr>
<td align="center">Sell</td>
<td align="center">Convert EUR To USD</td>
</tr>
</tbody></table>

<table class="tbl1"><tbody>
<tr><td align="center">Leverage</td><td align="center">چند برابر پول واقعی امکان خرید می دهد</td></tr>
<tr><td align="center">Balance</td><td align="center">مقدار موجودی بدون در نظر گرفتن معامله های در حال انجام</td></tr>
<tr><td align="center">Equity</td><td align="center">مقدار موجودی با در نظر گرفتن معامله های در حال انجام</td></tr>
<tr><td align="center">Margin</td><td align="center">مقدار پولی که در معاملات درگیر هست</td></tr>
<tr><td align="center">Free margin</td><td align="center">باقیمانده مقدار پولی که در معاملات درگیر هست</td></tr>
<tr><td align="center">Margin level</td><td align="center">Equity / Margin</td></tr>
<tr><td align="center">Pips</td><td align="center">واحد اندازه گیری برای بیان تغغیرات ارزش بین دو ارز گفته می شود.</td></tr>
<tr><td align="center">Market sentiment</td><td align="center">تمایل بازار</td></tr>
<tr><td align="center">Pip</td><td align="center">کوچکترین واحد تغییر قیمت</td></tr>
<tr><td align="center">Spread</td><td align="center">اختلاف قیمت بین خرید و فروش</td></tr>
<tr><td align="center">Swap</td><td align="center"></td></tr>
</tbody></table>


#### <span class="red">Trade Process</span>
    Lot = 100.000 Dollar
    Leverage = 100
    Base Currency = GBP
    Balance = 1000
    Asset = EURNZD
    Action = Buy
    Volume = 1

<div class="" align="right" dir="rtl">
<div class="md4"><span class="blue">1</span> : <span>این معامله میگوید به مقدار یک لات یعنی همان 100.000 دلار, عرض NZD رابه عرض EUR تبدیل کن </span></div>
<div class="md4"><span class="blue">2</span> : <span>با توجه به Leverage=100 انگار شما 100.000 GBP اعتبار دارید</span></div>
<div class="md4"><span class="blue">3</span> : <span>معادل 100.000 دلار با توجه به نرخ تبدیل GBP, GBPUSD را به USD تبدیل میکنیم (الان 100.000 USD داریم)</span></div>
<div class="md4"><span class="blue">4</span> : <span>100.000 دلار را با توجه به نرخ تبدیل USDNZD, به NZD تبدیل میکنیم (الان NZD داریم)</span></div>
<div class="md4"><span class="blue">5</span> : <span> NZD ها را با توجه به نرخ تبدیل EURNZD, به EUR تبدیل میکنیم (الان EUR داریم)</span></div>
<div class="md4"><span class="blue">6</span> : <span> الان پوزیشن باز شده است و فرض کنید نرخ تبدیل معامله ی ما یعنی EURNZD افزایش داشته است و میخواهیم پوزیشن را ببندیم</span></div>
<div class="md4"><span class="blue">7</span> : <span>با توجه به نرخ تبدیل EURNZD, اون مقدار EUR که داریم رو به NZD تبدیل میکنیم (الان NZD داریم)</span></div>
<div class="md4"><span class="blue">8</span> : <span>با توجه به نرخ تبدیل GBPNZD, اون مقدار NZD که داریم رو به GBP تبدیل میکنیم (الان GBP داریم)</span></div>
<div class="md4"><span class="blue">9</span> : <span>مقدار GBP بدست آمده را به Balance اضافه میکنیم</span></div>
</div>



<!-----------------------------------------------------------Order----------------------------------------------------------->
<div class="md1"></div>

## Order

<table class="tbl1"><tbody>
<tr><td align="center" colspan="4"  align="center" id="header" bgcolor="D1ECCF">Buy</td></tr>
<tr><td align="center">Buy Limit</td><td align="center">اردر پایین قیمت فعلی</td><td align="center">بسمت ضرر</td><td align="center">خرید</td></tr>
<tr><td align="center">Buy Stop</td><td align="center">اردر بالای قیمت فعلی</td><td align="center">بسمت سود</td><td align="center">خرید</td></tr>
</tbody></table>
<table class="tbl1"><tbody>
<tr><td colspan="4"  align="center" id="header" bgcolor="D1ECCF">Sell</td></tr>
<tr><td align="center">Sell Limit</td><td align="center">اردر بالای قیمت فعلی</td><td align="center">بسمت ضرر</td><td align="center">فروش</td></tr>
<tr><td align="center">Sell Stop</td><td align="center">اردر پایین قیمت فعلی</td><td align="center">بسمت سود</td><td align="center">فروش</td></tr>
</tbody></table>
<div class="md4"></div>



<!-----------------------------------------------------------Develop----------------------------------------------------------->
<div class="md1"></div>

## Develop

<!-----------------------------------------------------------Metatrader Terminal-->
#### <span class="red">Metatrader Terminal</span>
    market watch window > right click > show all

    Tools > Option > Expert Advisors
    ------------------------------------
    Allow automated trading = True
    Allow DLL imports = True
    
    Tools > Charts
    ------------------------------------
    Max bars in history = 1
    Max bars in chart = 1

    Tools > Option > Events
    ------------------------------------
    Enable = False



<!-----------------------------------------------------------Metatrader Server-->
#### <span class="red">Metatrader Server</span>


<span class="blue">Impliment Project</span>

    mkdir metatrader_server
    cd metatrader_server
    mkdir py
    python3 -m venv .myenv3
    source .myenv3/bin/activate
    sudo pip install pyzmq  
    sudo pip install pandas

<span class="blue">mql-zmq</span>

    git clone https://github.com/dingmaotu/mql-zmq.git

    cp -fr mql-zmq/Include/* /home/morteza/.wine/drive_c/'Program Files (x86)'/'FXCM MetaTrader4'/MQL4/Include/

    cp -fr mql-zmq/Library/MT4/* /home/morteza/.wine/drive_c/'Program Files (x86)'/'FXCM MetaTrader4'/MQL4/Libraries/

<span class="blue">mql4-lib</span>

    git clone https://github.com/dingmaotu/mql4-lib.git

    cp -fr mql4-lib/* /home/morteza/.wine/drive_c/'Program Files (x86)'/'FXCM MetaTrader4'/MQL4/Include/Mql/

<span class="blue">Darwinex</span>

    git clone https://github.com/darwinex/dwx-zeromq-connector.git

    cp -fr dwx-zeromq-connector/v2.0.1/mql4/DWX_ZeroMQ_Server_v2.0.1_RC8.mq4 /home/morteza/.wine/drive_c/'Program Files (x86)'/'FXCM MetaTrader4'/MQL4/Experts/

    cp -fr dwx-zeromq-connector/v2.0.1/python/api/DWX_ZeroMQ_Connector_v2_0_1_RC8.py py/

<span class="blue">Python</span>

    ------------------------------------------
    vim client.py
    ------------------------------------------
    from lib.darwinex.DWX_ZeroMQ_Connector_v2_0_1_RC8 import DWX_ZeroMQ_Connector

    zmq = DWX_ZeroMQ_Connector()

    zmq._DWX_MTX_NEW_TRADE_()
    ----------------------------
    python3.8 ./client.py


    ------------------------------------------
    DWX_ZeroMQ_Connector_v2_0_1_RC8.py Extra
    ------------------------------------------
    def account(self, model):
        try:
            subject = 'account'
            self._set_response_(None)                    
            _msg = f"{subject};{model}"
            self.remote_send(self._PUSH_SOCKET, _msg)                      
            while self._valid_response_('zmq') == False: sleep(0.1)
            response = self._get_response_()
            return response
        except KeyError:
            print("error")


    --------------------------------------------------
    MQL DWX_ZeroMQ_Server_v2.0.1_RC8.mq4
    --------------------------------------------------
    
    //+---------------------------Account---------------------------------------+
    void account(string model, string &zmq_ret)
    {   
        double res = 0;
        if (model == "Balance")
            res=AccountBalance();
        if (model == "Equity")
            res=AccountEquity();
        if (model == "FreeMargin") 
            res=AccountFreeMargin();
        if (model == "Number") 
            res=AccountNumber();
        if (model == "Profit") 
            res=AccountProfit();
        zmq_ret = zmq_ret + ", '_response': '"+ res +"'";
    }

    if(compArray[0] == "account")
        switch_action = 20;

    case 20:
        zmq_ret = "{'_action': 'account', '_model': '"+compArray[1]+"'";
        account(compArray[1], zmq_ret);
        zmq_ret = zmq_ret + "}";
        InformPullClient(pSocket, zmq_ret);
    break;

<!-----------------------------------------------------------Note----------------------------------------------------------->
<div class="md1"></div>

## Note

<div class="" align="right" dir="rtl">
<div class="md4"></div>
<div class="md4"></div>
</div>